+ kubectl create namespace bench
namespace/bench created
+ kubectl create -n bench -f -
pod/fio created
+ kubectl wait -n bench --for condition=Ready --timeout=3m pod/fio
error: timed out waiting for the condition on pods/fio
+ kubectl wait -n bench --for condition=Ready=False --timeout=10h pod/fio
pod/fio condition met
+ kubectl logs pod/fio -n bench
Defaulted container "fio" out of: fio, init-container-resources (init)
INFO:    Converting SIF file to temporary sandbox...
kube-fio-write: (g=0): rw=write, bs=(R) 256KiB-256KiB, (W) 256KiB-256KiB, (T) 256KiB-256KiB, ioengine=psync, iodepth=1
fio-3.35
Starting 1 process
3;fio-3.35;kube-fio-write;0;0;0;0;0;0;0;0;0.000000;0.000000;0;0;0.000000;0.000000;1.000000%=0;5.000000%=0;10.000000%=0;20.000000%=0;30.000000%=0;40.000000%=0;50.000000%=0;60.000000%=0;70.000000%=0;80.000000%=0;90.000000%=0;95.000000%=0;99.000000%=0;99.500000%=0;99.900000%=0;99.950000%=0;99.990000%=0;0%=0;0%=0;0%=0;0;0;0.000000;0.000000;0;0;0.000000%;0.000000;0.000000;8388608;80379;313;104363;0;0;0.000000;0.000000;78;95822;3179.016799;6646.318338;1.000000%=95;5.000000%=96;10.000000%=97;20.000000%=99;30.000000%=105;40.000000%=110;50.000000%=123;60.000000%=166;70.000000%=185;80.000000%=7831;90.000000%=10682;95.000000%=14745;99.000000%=32636;99.500000%=40632;99.900000%=53215;99.950000%=61079;99.990000%=87556;0%=0;0%=0;0%=0;82;95830;3184.001030;6646.240675;5632;1091072;99.173244%;79714.461538;99339.106276;0.162895%;4.239091%;8323;0;14;100.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.00%;0.00%;0.00%;0.00%;0.00%;21.17%;54.08%;0.13%;0.00%;0.00%;0.00%;0.00%;13.71%;8.66%;2.10%;0.15%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;dm-0;5822;8742;0;0;358626;220692;579318;61.70%;slaves;6532;34185;648;3246;412966;354154;781735;97.07%;sda;6532;34185;648;3246;412966;354154;781735;97.07%

kube-fio-write: (groupid=0, jobs=1): err= 0: pid=388: Sun Nov 26 22:53:24 2023
  write: IOPS=313, BW=78.5MiB/s (82.3MB/s)(8192MiB/104363msec); 0 zone resets
    clat (usec): min=78, max=95822, avg=3179.02, stdev=6646.32
     lat (usec): min=82, max=95830, avg=3184.00, stdev=6646.24
    clat percentiles (usec):
     |  1.00th=[   96],  5.00th=[   97], 10.00th=[   98], 20.00th=[  100],
     | 30.00th=[  106], 40.00th=[  111], 50.00th=[  124], 60.00th=[  167],
     | 70.00th=[  186], 80.00th=[ 7832], 90.00th=[10683], 95.00th=[14746],
     | 99.00th=[32637], 99.50th=[40633], 99.90th=[53216], 99.95th=[61080],
     | 99.99th=[87557]
   bw (  KiB/s): min= 5632, max=1091072, per=99.17%, avg=79714.46, stdev=99339.11, samples=208
   iops        : min=   22, max= 4262, avg=311.38, stdev=388.04, samples=208
  lat (usec)   : 100=21.17%, 250=54.08%, 500=0.13%
  lat (msec)   : 10=13.71%, 20=8.66%, 50=2.10%, 100=0.15%
  cpu          : usr=0.16%, sys=4.24%, ctx=8323, majf=0, minf=14
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=0,32768,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
  WRITE: bw=78.5MiB/s (82.3MB/s), 78.5MiB/s-78.5MiB/s (82.3MB/s-82.3MB/s), io=8192MiB (8590MB), run=104363-104363msec

Disk stats (read/write):
    dm-0: ios=5822/8742, merge=0/0, ticks=358626/220692, in_queue=579318, util=61.70%, aggrios=6532/34185, aggrmerge=648/3246, aggrticks=412966/354154, aggrin_queue=781735, aggrutil=97.07%
  sda: ios=6532/34185, merge=648/3246, ticks=412966/354154, in_queue=781735, util=97.07%
kube-fio-read: (g=0): rw=read, bs=(R) 256KiB-256KiB, (W) 256KiB-256KiB, (T) 256KiB-256KiB, ioengine=psync, iodepth=1
fio-3.35
Starting 1 process
3;fio-3.35;kube-fio-read;0;0;8388608;432424;1689;19399;0;0;0.000000;0.000000;23;70741;591.305985;2008.559583;1.000000%=25;5.000000%=26;10.000000%=28;20.000000%=31;30.000000%=37;40.000000%=41;50.000000%=43;60.000000%=51;70.000000%=57;80.000000%=62;90.000000%=1892;95.000000%=3817;99.000000%=8978;99.500000%=11862;99.900000%=20840;99.950000%=26345;99.990000%=39059;0%=0;0%=0;0%=0;23;70741;591.373723;2008.554275;186880;478720;100.000000%;433933.473684;61355.962631;0;0;0;0;0;0;0.000000;0.000000;0;0;0.000000;0.000000;1.000000%=0;5.000000%=0;10.000000%=0;20.000000%=0;30.000000%=0;40.000000%=0;50.000000%=0;60.000000%=0;70.000000%=0;80.000000%=0;90.000000%=0;95.000000%=0;99.000000%=0;99.500000%=0;99.900000%=0;99.950000%=0;99.990000%=0;0%=0;0%=0;0%=0;0;0;0.000000;0.000000;0;0;0.000000%;0.000000;0.000000;0.247448%;13.753995%;6128;6;218;100.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.00%;0.00%;0.00%;0.00%;57.57%;29.57%;0.08%;0.12%;0.07%;0.09%;4.01%;4.28%;3.45%;0.66%;0.10%;0.01%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;dm-0;10457;277;0;0;449030;27985;477015;95.38%;slaves;39575;1433;2253;5;1169809;30973;1201632;100.00%;sda;39575;1433;2253;5;1169809;30973;1201632;100.00%

kube-fio-read: (groupid=0, jobs=1): err= 0: pid=446: Sun Nov 26 22:53:44 2023
  read: IOPS=1689, BW=422MiB/s (443MB/s)(8192MiB/19399msec)
    clat (usec): min=23, max=70741, avg=591.31, stdev=2008.56
     lat (usec): min=23, max=70741, avg=591.37, stdev=2008.55
    clat percentiles (usec):
     |  1.00th=[   26],  5.00th=[   27], 10.00th=[   29], 20.00th=[   32],
     | 30.00th=[   38], 40.00th=[   42], 50.00th=[   44], 60.00th=[   52],
     | 70.00th=[   58], 80.00th=[   63], 90.00th=[ 1893], 95.00th=[ 3818],
     | 99.00th=[ 8979], 99.50th=[11863], 99.90th=[20841], 99.95th=[26346],
     | 99.99th=[39060]
   bw (  KiB/s): min=186880, max=478720, per=100.00%, avg=433933.47, stdev=61355.96, samples=38
   iops        : min=  730, max= 1870, avg=1695.05, stdev=239.67, samples=38
  lat (usec)   : 50=57.57%, 100=29.57%, 250=0.08%, 500=0.12%, 750=0.07%
  lat (usec)   : 1000=0.09%
  lat (msec)   : 2=4.01%, 4=4.28%, 10=3.45%, 20=0.66%, 50=0.10%
  lat (msec)   : 100=0.01%
  cpu          : usr=0.25%, sys=13.75%, ctx=6128, majf=6, minf=218
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=32768,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=422MiB/s (443MB/s), 422MiB/s-422MiB/s (443MB/s-443MB/s), io=8192MiB (8590MB), run=19399-19399msec

Disk stats (read/write):
    dm-0: ios=10457/277, merge=0/0, ticks=449030/27985, in_queue=477015, util=95.38%, aggrios=39575/1433, aggrmerge=2253/5, aggrticks=1169809/30973, aggrin_queue=1201632, aggrutil=100.00%
  sda: ios=39575/1433, merge=2253/5, ticks=1169809/30973, in_queue=1201632, util=100.00%
INFO:    Cleaning up image...
+ kubectl delete namespace bench
namespace "bench" deleted

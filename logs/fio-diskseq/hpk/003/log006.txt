+ kubectl create namespace bench
namespace/bench created
+ kubectl create -n bench -f -
pod/fio created
+ kubectl wait -n bench --for condition=Ready --timeout=3m pod/fio
error: timed out waiting for the condition on pods/fio
+ kubectl wait -n bench --for condition=Ready=False --timeout=10h pod/fio
pod/fio condition met
+ kubectl logs pod/fio -n bench
Defaulted container "fio" out of: fio, init-container-resources (init)
INFO:    Converting SIF file to temporary sandbox...
kube-fio-write: (g=0): rw=write, bs=(R) 256KiB-256KiB, (W) 256KiB-256KiB, (T) 256KiB-256KiB, ioengine=psync, iodepth=1
fio-3.35
Starting 1 process
3;fio-3.35;kube-fio-write;0;0;0;0;0;0;0;0;0.000000;0.000000;0;0;0.000000;0.000000;1.000000%=0;5.000000%=0;10.000000%=0;20.000000%=0;30.000000%=0;40.000000%=0;50.000000%=0;60.000000%=0;70.000000%=0;80.000000%=0;90.000000%=0;95.000000%=0;99.000000%=0;99.500000%=0;99.900000%=0;99.950000%=0;99.990000%=0;0%=0;0%=0;0%=0;0;0;0.000000;0.000000;0;0;0.000000%;0.000000;0.000000;8388608;86442;337;97043;0;0;0.000000;0.000000;76;63943;2955.473557;6675.438703;1.000000%=95;5.000000%=96;10.000000%=98;20.000000%=99;30.000000%=103;40.000000%=107;50.000000%=112;60.000000%=136;70.000000%=177;80.000000%=6979;90.000000%=11206;95.000000%=15138;99.000000%=33816;99.500000%=41156;99.900000%=52166;99.950000%=55836;99.990000%=62128;0%=0;0%=0;0%=0;80;63950;2960.334193;6675.295395;5120;1127424;100.000000%;86591.668394;101922.600594;0.188578%;4.398096%;6857;0;154;100.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.00%;0.00%;0.00%;0.00%;0.00%;19.03%;60.12%;0.10%;0.01%;0.00%;0.00%;0.00%;8.42%;9.71%;2.49%;0.13%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;dm-0;6174;8356;0;0;381228;175369;556597;62.57%;slaves;6108;33287;1304;3214;363864;311629;690040;96.69%;sda;6108;33287;1304;3214;363864;311629;690040;96.69%

kube-fio-write: (groupid=0, jobs=1): err= 0: pid=386: Sun Nov 26 22:50:07 2023
  write: IOPS=337, BW=84.4MiB/s (88.5MB/s)(8192MiB/97043msec); 0 zone resets
    clat (usec): min=76, max=63943, avg=2955.47, stdev=6675.44
     lat (usec): min=80, max=63950, avg=2960.33, stdev=6675.30
    clat percentiles (usec):
     |  1.00th=[   96],  5.00th=[   97], 10.00th=[   99], 20.00th=[  100],
     | 30.00th=[  104], 40.00th=[  108], 50.00th=[  113], 60.00th=[  137],
     | 70.00th=[  178], 80.00th=[ 6980], 90.00th=[11207], 95.00th=[15139],
     | 99.00th=[33817], 99.50th=[41157], 99.90th=[52167], 99.95th=[55837],
     | 99.99th=[62129]
   bw (  KiB/s): min= 5120, max=1127424, per=100.00%, avg=86591.67, stdev=101922.60, samples=193
   iops        : min=   20, max= 4404, avg=338.25, stdev=398.14, samples=193
  lat (usec)   : 100=19.03%, 250=60.12%, 500=0.10%, 750=0.01%
  lat (msec)   : 10=8.42%, 20=9.71%, 50=2.49%, 100=0.13%
  cpu          : usr=0.19%, sys=4.40%, ctx=6857, majf=0, minf=154
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=0,32768,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
  WRITE: bw=84.4MiB/s (88.5MB/s), 84.4MiB/s-84.4MiB/s (88.5MB/s-88.5MB/s), io=8192MiB (8590MB), run=97043-97043msec

Disk stats (read/write):
    dm-0: ios=6174/8356, merge=0/0, ticks=381228/175369, in_queue=556597, util=62.57%, aggrios=6108/33287, aggrmerge=1304/3214, aggrticks=363864/311629, aggrin_queue=690040, aggrutil=96.69%
  sda: ios=6108/33287, merge=1304/3214, ticks=363864/311629, in_queue=690040, util=96.69%
kube-fio-read: (g=0): rw=read, bs=(R) 256KiB-256KiB, (W) 256KiB-256KiB, (T) 256KiB-256KiB, ioengine=psync, iodepth=1
fio-3.35
Starting 1 process
3;fio-3.35;kube-fio-read;0;0;8388608;247203;965;33934;0;0;0.000000;0.000000;23;384418;1034.896842;7362.621444;1.000000%=24;5.000000%=25;10.000000%=27;20.000000%=28;30.000000%=30;40.000000%=32;50.000000%=35;60.000000%=48;70.000000%=52;80.000000%=55;90.000000%=1875;95.000000%=3850;99.000000%=15663;99.500000%=47448;99.900000%=117964;99.950000%=137363;99.990000%=183500;0%=0;0%=0;0%=0;23;384418;1034.966036;7362.618855;53248;483328;100.000000%;249023.044776;154524.887959;0;0;0;0;0;0;0.000000;0.000000;0;0;0.000000;0.000000;1.000000%=0;5.000000%=0;10.000000%=0;20.000000%=0;30.000000%=0;40.000000%=0;50.000000%=0;60.000000%=0;70.000000%=0;80.000000%=0;90.000000%=0;95.000000%=0;99.000000%=0;99.500000%=0;99.900000%=0;99.950000%=0;99.990000%=0;0%=0;0%=0;0%=0;0;0;0.000000;0.000000;0;0;0.000000%;0.000000;0.000000;0.165031%;7.114019%;5765;0;74;100.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.00%;0.00%;0.00%;0.00%;62.02%;26.14%;0.07%;0.09%;0.06%;0.06%;3.38%;3.87%;2.87%;0.73%;0.24%;0.34%;0.13%;0.01%;0.00%;0.00%;0.00%;0.00%;dm-0;9539;380;0;0;1103395;62145;1165540;91.60%;slaves;40562;1410;902;16;2725049;80016;2808447;94.95%;sda;40562;1410;902;16;2725049;80016;2808447;94.95%

kube-fio-read: (groupid=0, jobs=1): err= 0: pid=444: Sun Nov 26 22:50:41 2023
  read: IOPS=965, BW=241MiB/s (253MB/s)(8192MiB/33934msec)
    clat (usec): min=23, max=384418, avg=1034.90, stdev=7362.62
     lat (usec): min=23, max=384418, avg=1034.97, stdev=7362.62
    clat percentiles (usec):
     |  1.00th=[    25],  5.00th=[    26], 10.00th=[    28], 20.00th=[    29],
     | 30.00th=[    31], 40.00th=[    33], 50.00th=[    36], 60.00th=[    49],
     | 70.00th=[    53], 80.00th=[    56], 90.00th=[  1876], 95.00th=[  3851],
     | 99.00th=[ 15664], 99.50th=[ 47449], 99.90th=[117965], 99.95th=[137364],
     | 99.99th=[183501]
   bw (  KiB/s): min=53248, max=483328, per=100.00%, avg=249023.04, stdev=154524.89, samples=67
   iops        : min=  208, max= 1888, avg=972.75, stdev=603.61, samples=67
  lat (usec)   : 50=62.02%, 100=26.14%, 250=0.07%, 500=0.09%, 750=0.06%
  lat (usec)   : 1000=0.06%
  lat (msec)   : 2=3.38%, 4=3.87%, 10=2.87%, 20=0.73%, 50=0.24%
  lat (msec)   : 100=0.34%, 250=0.13%, 500=0.01%
  cpu          : usr=0.17%, sys=7.11%, ctx=5765, majf=0, minf=74
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=32768,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=241MiB/s (253MB/s), 241MiB/s-241MiB/s (253MB/s-253MB/s), io=8192MiB (8590MB), run=33934-33934msec

Disk stats (read/write):
    dm-0: ios=9539/380, merge=0/0, ticks=1103395/62145, in_queue=1165540, util=91.60%, aggrios=40562/1410, aggrmerge=902/16, aggrticks=2725049/80016, aggrin_queue=2808447, aggrutil=94.95%
  sda: ios=40562/1410, merge=902/16, ticks=2725049/80016, in_queue=2808447, util=94.95%
INFO:    Cleaning up image...
+ kubectl delete namespace bench
namespace "bench" deleted

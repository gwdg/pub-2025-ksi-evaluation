+ kubectl create namespace bench
namespace/bench created
+ kubectl create -n bench -f -
pod/fio created
+ kubectl wait -n bench --for condition=Ready --timeout=3m pod/fio
error: timed out waiting for the condition on pods/fio
+ kubectl wait -n bench --for condition=Ready=False --timeout=10h pod/fio
pod/fio condition met
+ kubectl logs pod/fio -n bench
Defaulted container "fio" out of: fio, init-container-resources (init)
INFO:    Converting SIF file to temporary sandbox...
kube-fio-write: (g=0): rw=randwrite, bs=(R) 256KiB-256KiB, (W) 256KiB-256KiB, (T) 256KiB-256KiB, ioengine=psync, iodepth=1
fio-3.35
Starting 1 process
3;fio-3.35;kube-fio-write;0;0;0;0;0;0;0;0;0.000000;0.000000;0;0;0.000000;0.000000;1.000000%=0;5.000000%=0;10.000000%=0;20.000000%=0;30.000000%=0;40.000000%=0;50.000000%=0;60.000000%=0;70.000000%=0;80.000000%=0;90.000000%=0;95.000000%=0;99.000000%=0;99.500000%=0;99.900000%=0;99.950000%=0;99.990000%=0;0%=0;0%=0;0%=0;0;0;0.000000;0.000000;0;0;0.000000%;0.000000;0.000000;8388608;82183;321;102072;0;0;0.000000;0.000000;79;83460;3109.126670;6763.328826;1.000000%=95;5.000000%=97;10.000000%=99;20.000000%=104;30.000000%=107;40.000000%=109;50.000000%=119;60.000000%=150;70.000000%=179;80.000000%=7700;90.000000%=10813;95.000000%=16056;99.000000%=31588;99.500000%=33816;99.900000%=43778;99.950000%=60555;99.990000%=71827;0%=0;0%=0;0%=0;83;83464;3113.922097;6763.292570;8192;1101312;100.000000%;82238.745098;107813.228109;0.179287%;4.294070%;7198;0;228;100.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.00%;0.00%;0.00%;0.00%;0.00%;11.33%;66.85%;0.12%;0.01%;0.01%;0.00%;0.00%;9.88%;8.15%;3.58%;0.08%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;dm-0;4162;26933;0;0;284756;382259;667015;90.55%;slaves;4165;31462;752;3392;265649;343778;620693;96.94%;sda;4165;31462;752;3392;265649;343778;620693;96.94%

kube-fio-write: (groupid=0, jobs=1): err= 0: pid=391: Sun Nov 26 23:26:13 2023
  write: IOPS=321, BW=80.3MiB/s (84.2MB/s)(8192MiB/102072msec); 0 zone resets
    clat (usec): min=79, max=83460, avg=3109.13, stdev=6763.33
     lat (usec): min=83, max=83464, avg=3113.92, stdev=6763.29
    clat percentiles (usec):
     |  1.00th=[   96],  5.00th=[   98], 10.00th=[  100], 20.00th=[  105],
     | 30.00th=[  108], 40.00th=[  110], 50.00th=[  120], 60.00th=[  151],
     | 70.00th=[  180], 80.00th=[ 7701], 90.00th=[10814], 95.00th=[16057],
     | 99.00th=[31589], 99.50th=[33817], 99.90th=[43779], 99.95th=[60556],
     | 99.99th=[71828]
   bw (  KiB/s): min= 8192, max=1101312, per=100.00%, avg=82238.75, stdev=107813.23, samples=204
   iops        : min=   32, max= 4302, avg=321.25, stdev=421.15, samples=204
  lat (usec)   : 100=11.33%, 250=66.85%, 500=0.12%, 750=0.01%, 1000=0.01%
  lat (msec)   : 10=9.88%, 20=8.15%, 50=3.58%, 100=0.08%
  cpu          : usr=0.18%, sys=4.29%, ctx=7198, majf=0, minf=228
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=0,32768,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
  WRITE: bw=80.3MiB/s (84.2MB/s), 80.3MiB/s-80.3MiB/s (84.2MB/s-84.2MB/s), io=8192MiB (8590MB), run=102072-102072msec

Disk stats (read/write):
    dm-0: ios=4162/26933, merge=0/0, ticks=284756/382259, in_queue=667015, util=90.55%, aggrios=4165/31462, aggrmerge=752/3392, aggrticks=265649/343778, aggrin_queue=620693, aggrutil=96.94%
  sda: ios=4165/31462, merge=752/3392, ticks=265649/343778, in_queue=620693, util=96.94%
kube-fio-read: (g=0): rw=randread, bs=(R) 256KiB-256KiB, (W) 256KiB-256KiB, (T) 256KiB-256KiB, ioengine=psync, iodepth=1
fio-3.35
Starting 1 process
3;fio-3.35;kube-fio-read;0;0;8388608;214520;837;39104;0;0;0.000000;0.000000;543;184547;1190.992096;4384.834031;1.000000%=749;5.000000%=774;10.000000%=790;20.000000%=806;30.000000%=823;40.000000%=831;50.000000%=847;60.000000%=847;70.000000%=864;80.000000%=913;90.000000%=954;95.000000%=1056;99.000000%=5406;99.500000%=7634;99.900000%=83361;99.950000%=105381;99.990000%=119013;0%=0;0%=0;0%=0;543;184547;1191.192874;4384.840814;2560;304128;99.954771%;214422.974359;125382.201357;0;0;0;0;0;0;0.000000;0.000000;0;0;0.000000;0.000000;1.000000%=0;5.000000%=0;10.000000%=0;20.000000%=0;30.000000%=0;40.000000%=0;50.000000%=0;60.000000%=0;70.000000%=0;80.000000%=0;90.000000%=0;95.000000%=0;99.000000%=0;99.500000%=0;99.900000%=0;99.950000%=0;99.990000%=0;0%=0;0%=0;0%=0;0;0;0.000000;0.000000;0;0;0.000000%;0.000000;0.000000;0.335013%;9.843235%;32781;0;74;100.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.0%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;0.00%;0.94%;92.61%;3.74%;0.74%;1.51%;0.09%;0.14%;0.16%;0.07%;0.00%;0.00%;0.00%;0.00%;0.00%;dm-0;35872;2430;0;0;85502;31189;116691;96.35%;slaves;36934;3924;467;46;117213;29257;148073;97.60%;sda;36934;3924;467;46;117213;29257;148073;97.60%

kube-fio-read: (groupid=0, jobs=1): err= 0: pid=449: Sun Nov 26 23:26:53 2023
  read: IOPS=837, BW=209MiB/s (220MB/s)(8192MiB/39104msec)
    clat (usec): min=543, max=184547, avg=1190.99, stdev=4384.83
     lat (usec): min=543, max=184547, avg=1191.19, stdev=4384.84
    clat percentiles (usec):
     |  1.00th=[   750],  5.00th=[   775], 10.00th=[   791], 20.00th=[   807],
     | 30.00th=[   824], 40.00th=[   832], 50.00th=[   848], 60.00th=[   848],
     | 70.00th=[   865], 80.00th=[   914], 90.00th=[   955], 95.00th=[  1057],
     | 99.00th=[  5407], 99.50th=[  7635], 99.90th=[ 83362], 99.95th=[105382],
     | 99.99th=[119014]
   bw (  KiB/s): min= 2560, max=304128, per=99.95%, avg=214422.97, stdev=125382.20, samples=78
   iops        : min=   10, max= 1188, avg=837.59, stdev=489.77, samples=78
  lat (usec)   : 750=0.94%, 1000=92.61%
  lat (msec)   : 2=3.74%, 4=0.74%, 10=1.51%, 20=0.09%, 50=0.14%
  lat (msec)   : 100=0.16%, 250=0.07%
  cpu          : usr=0.34%, sys=9.84%, ctx=32781, majf=0, minf=74
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=32768,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=209MiB/s (220MB/s), 209MiB/s-209MiB/s (220MB/s-220MB/s), io=8192MiB (8590MB), run=39104-39104msec

Disk stats (read/write):
    dm-0: ios=35872/2430, merge=0/0, ticks=85502/31189, in_queue=116691, util=96.35%, aggrios=36934/3924, aggrmerge=467/46, aggrticks=117213/29257, aggrin_queue=148073, aggrutil=97.60%
  sda: ios=36934/3924, merge=467/46, ticks=117213/29257, in_queue=148073, util=97.60%
INFO:    Cleaning up image...
+ kubectl delete namespace bench
namespace "bench" deleted
